import './polyfills.server.mjs';
import{a as T,b as F}from"./chunk-KBTQ7OKI.mjs";import{j as k}from"./chunk-T6HCC2AO.mjs";import{$ as d,G as s,H as C,N as _,O as b,Q as f,R as g,S as E,T as S,U as r,V as a,W as x,Z as w,_ as u,aa as c,ba as v,da as y,n as h,s as p,t as m}from"./chunk-OK5553TK.mjs";import"./chunk-VVCT4QZE.mjs";function P(t,i){if(t&1){let o=w();r(0,"div",5)(1,"button",7),u("click",function(){p(o);let n=d().$implicit,l=d();return m(l.edit(n.id))}),c(2," Edit Post "),a(),r(3,"button",8),u("click",function(){p(o);let n=d().$implicit,l=d();return m(l.remove(n.id))}),c(4," Delete "),a()()}}function I(t,i){if(t&1&&x(0,"app-create",6),t&2){let o=d().$implicit;b("item",o)}}function L(t,i){if(t&1&&(r(0,"div",1)(1,"div",2)(2,"div",3),c(3),a(),r(4,"div",4),c(5),a(),r(6,"div"),_(7,P,5,0,"div",5),a()(),_(8,I,1,1,"app-create",6),a()),t&2){let o=i.$implicit,e=d();s(3),v(o.title),s(2),v(o.body),s(2),f(7,o.id?7:-1),s(),f(8,o.id===e.itemIdToEdit&&e.openEdit?8:-1)}}var A=(()=>{let i=class i{constructor(e){this.dashboardService=e,this.openEdit=!1,this.loading=!1,this.posts=[],this.getAllPosts()}getAllPosts(){this.dashboardService.getAllPost().subscribe({next:e=>{this.posts=e},error:e=>{}})}edit(e){this.itemIdToEdit=e,this.openEdit=!this.openEdit}remove(e){this.loading=!0,this.dashboardService.deletePost(e).subscribe(n=>{n&&(this.loading=!1)})}};i.\u0275fac=function(n){return new(n||i)(C(T))},i.\u0275cmp=h({type:i,selectors:[["app-list"]],standalone:!0,features:[y],decls:6,vars:0,consts:[[1,"py-8","border"],[1,"m-2"],[1,"flex","gap-2","justify-between"],[2,"width","20%"],[2,"width","50%"],[1,"flex","gap-2"],[3,"item"],[1,"item-edit",3,"click"],[1,"item-delete",3,"click"]],template:function(n,l){n&1&&(r(0,"section"),x(1,"app-create"),r(2,"div",0)(3,"div"),E(4,L,9,4,"div",1,g),a()()()),n&2&&(s(4),S(l.posts))},dependencies:[k,F],styles:[".item-edit[_ngcontent-%COMP%]{color:var(--primary);border:1px solid var(--primary);border-radius:var(--space-2);width:100px;text-align:center;cursor:pointer;background-color:#fff}.item-delete[_ngcontent-%COMP%]{color:var(--error);border:1px solid var(--error);border-radius:var(--space-2);width:70px;text-align:center;cursor:pointer;background-color:#fff}"]});let t=i;return t})();export{A as ListComponent};
